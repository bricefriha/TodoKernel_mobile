<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TodoKernel_mobile.Views.ItemsPage"
             Title="Todolists"
             xmlns:Helpers="clr-namespace:TodoKernel_mobile.Helpers"
             xmlns:renderedViews="clr-namespace:Sharpnado.MaterialFrame;assembly=Sharpnado.MaterialFrame"
             BackgroundColor="{StaticResource BackgroundColour}"
             >
    <ContentPage.Resources>
        <Helpers:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
    </ContentPage.Resources>
    <ContentPage.Content>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <ScrollView Grid.Row="0" BackgroundColor="{StaticResource PrimaryColour}"
                        Orientation="Horizontal">
                <StackLayout BindableLayout.ItemsSource="{Binding Todolists}"
                             Orientation="Horizontal">
                    <BindableLayout.ItemTemplate>
                        <DataTemplate>
                            <Button Text="{Binding Title}"
                                    BackgroundColor="{StaticResource SecondaryColour}"
                                    TextColor="{StaticResource BackgroundColour}"
                                    FontSize="17"
                                    WidthRequest="150"
                                    FontAttributes="Bold"
                                    Padding="3"
                                    Margin="10"
                                    CornerRadius="15"/>
                        </DataTemplate>
                    </BindableLayout.ItemTemplate>
                    
                </StackLayout>
                
            </ScrollView>
            <ScrollView Grid.Row="1">
                <StackLayout BindableLayout.ItemsSource="{Binding CurrentTodolist.Items}">
                    <Label Grid.Column="1"  HeightRequest="200"/>
                    <BindableLayout.ItemTemplate >
                        <DataTemplate>
                            <renderedViews:MaterialFrame BackgroundColor="#E6E6E6"
                                                         HeightRequest="15"
                                                         CornerRadius="15"
                                                         MaterialTheme="Acrylic"
                                                         HasShadow="False"
                                                         Margin="10"
                                                                     >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Label Grid.Column="0" Text="&#xf111;" FontFamily="{DynamicResource FA-Regular}" IsVisible="{Binding Done}" />

                                    <Label Grid.Column="0" Text="&#xf058;" FontFamily="{DynamicResource FA-Solid}" IsVisible="{Binding Done, Converter={StaticResource InverseBooleanConverter}}" />
                                    <Label Grid.Column="1" Text="{Binding ItemTitle}" HeightRequest="200"/>
                                </Grid>
                            </renderedViews:MaterialFrame>
                        </DataTemplate>
                    </BindableLayout.ItemTemplate>

                </StackLayout>
            </ScrollView>
        </Grid>
        
    </ContentPage.Content>
</ContentPage>